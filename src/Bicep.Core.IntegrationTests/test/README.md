# Overview

## Microsoft Cloud for Sovereignty Landing Zones

The code generated by a Landing Zone Configuration in the Azure Portal is referred to as a Microsoft Cloud for Sovereignty Landing Zone (MC4Sov LZ). The structure of the generated landing zone is determined by your choices for the Landing Zone Configuration. The generated code is delivered as a collection of Bicep modules representing different components of the deployment automation.

## Components

A MC4Sov LZ consists of several components used for deployment. The components are described below:

1. Bootstrap: Sets up the management group hierarchy and creates the subscriptions as dictated by the architecture of the MC4Sov LZ Preview.
1. Platform: Sets up the hub network and logging resources used by the MC4Sov LZ Preview platform and workloads as configured in the Landing Zone Configuration.
1. Compliance: Assigns the policy sets to be enforced in the environment as configured in the Landing Zone Configuration.
1. Dashboard: Provides customers with a visual representation of their Azure policy compliance.
1. Main: The single point of entry when you want to deploy all components with a single Bicep command.

## Tenant Level Deployment (when parent for management group hierarchy is the tenant root)

Below are samples for creating launch scripts for various scenarios. You do not need to use any of them. If you would rather, you can invoke the main.bicep or individual components through Bicep commands directly.

### Using Azure CLI

```powershell
param (
    $parDeploymentName = $(Read-Host -prompt "Please enter the deployment name"),
    $parDeploymentLocation = $(Read-Host -prompt "Please enter the deployment location")
)

az login --allow-no-subscriptions
$mainBicepFilePath = "main.bicep"

az deployment tenant create `
 --name $parDeploymentName `
 --location $parDeploymentLocation `
 --template-file $mainBicepFilePath
```

### Using Azure Powershell

```powershell
param (
    $parDeploymentName = $(Read-Host -prompt "Please enter the deployment name"),
    $parDeploymentLocation = $(Read-Host -prompt "Please enter the deployment location")
)

Connect-AzAccount
$mainBicepFilePath = "main.bicep"

New-AzTenantDeployment `
 -Name $parDeploymentName `
 -Location $parDeploymentLocation `
 -TemplateFile $mainBicepFilePath
```

## Child Management Deployment (when parent for management group hierarchy is a child Management Group of the Tenant Root Group)

### Using Azure CLI

```powershell
param (
    $parDeploymentName = $(Read-Host -prompt "Please enter the deployment name"),
    $parDeploymentLocation = $(Read-Host -prompt "Please enter the deployment location"),
    $parParentManagementGroup = $(Read-Host -prompt "Please enter the name of the parent management group for deploying SLZ under")
)

az login --allow-no-subscriptions
$mainBicepFilePath = "main.bicep"

az deployment mg create `
    --name $parDeploymentName `
    --location $parDeploymentLocation `
    --management-group-id $parParentManagementGroup `
    --template-file $mainBicepFilePath
```

### Using Azure Powershell

```powershell
param (
    $parDeploymentName = $(Read-Host -prompt "Please enter the deployment name"),
    $parDeploymentLocation = $(Read-Host -prompt "Please enter the deployment location"),
    $parParentManagementGroup = $(Read-Host -prompt "Please enter the name of the parent management group for deploying SLZ under")
)

Connect-AzAccount
$mainBicepFilePath = "main.bicep"

New-AzManagementGroupDeployment `
 -Name $parDeploymentName `
 -Location $parDeploymentLocation `
 -ManagementGroupId $parParentManagementGroup `
 -TemplateFile $mainBicepFilePath
```
